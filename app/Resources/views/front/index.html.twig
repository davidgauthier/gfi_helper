{% extends 'layout.html.twig' %}

{% block title %}
    {{ parent() }} - Accueil
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('public/css/style_calendar.css') }}" rel="stylesheet" />
{% endblock %}

{% block content %}
    <div class="container">
        
        {{ include("include/_current_time.html.twig") }}
        
        
        {# Plus tard, ici il faudrait utiliser un include en mode comme 
            dans reservations_room_date.html.twig, cela nous évitera de charger
            les infos pour toutes les salles ... ;) #}
        
        {# Permet l'affichage des différentes salles #}
        <ul class="nav nav-tabs" role="tablist">
            {% for room in rooms %}
            <li class="nav-item">
                <a class="nav-link {% if loop.index == 1 %} active {% endif %}" data-toggle="tab" href="#room{{ loop.index }}"><b>{{ room.name }}</b></a>
            </li>
            {% endfor %}
        </ul>
        
        {# Permet l'affichage du planning de chaque salle #}
        <div class="tab-content">
            {% for room in rooms %}
                <div id="room{{ loop.index }}" class="container tab-pane {% if loop.index == 1 %} active {% endif %}">
                    <br>
                    {{ include("include/_calendar.html.twig") }}
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('public/moment.js/moment-with-locales.js') }}"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha18/js/tempusdominus-bootstrap-4.min.js"></script>
    
    <script>
        $(document).ready(function() {
            setInterval(function() {
                $('#span_date').html(
                    moment().format('DD/MM/YYYY - HH:mm:ss')
                );
            }, 100);

        });
    </script>
{% endblock %}
